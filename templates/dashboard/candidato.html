{% extends 'base.html' %}

{% block title %}Dashboard Candidato | JobBoard{% endblock %}

{% block content %}
<div class="fade-in-up">
    <div style="margin-bottom: 3rem;">
        <h1 style="font-family: 'Outfit'; font-weight: 800; font-size: 2.5rem; margin-bottom: 0.5rem;">
            Hola, <span
                style="background: var(--grad-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">{{ user.first_name|default:user.username }}</span>
            ðŸ‘‹
        </h1>
        <p style="color: var(--text-secondary);">Bienvenido a tu centro de control de carrera profesional.</p>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
        <!-- Perfil Card -->    
        <div class="card" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div
                style="width: 50px; height: 50px; background: rgba(59, 130, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-user-edit" style="color: var(--primary-glow); font-size: 1.5rem;"></i>
            </div>
            <div>
                <h3 style="font-family: 'Outfit'; margin-bottom: 0.5rem;">Mi Perfil</h3>
                <p style="color: var(--text-secondary); font-size: 0.95rem;">MantÃ©n tu informaciÃ³n actualizada para
                    recibir las mejores ofertas.</p>
            </div>
            {% if user.perfil_candidato.titulo_profesional %}
            <a href="{% url 'dashboard_candidato' %}" class="btn btn-secondary w-100">Editar Perfil</a>
            {% else %}
            <a href="{% url 'wizard_perfil' paso=1 %}" class="btn btn-primary w-100">Completar Perfil</a>
            {% endif %}
        </div>

        <!-- Ofertas Card -->
        <div class="card" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div
                style="width: 50px; height: 50px; background: rgba(139, 92, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-briefcase" style="color: var(--secondary-glow); font-size: 1.5rem;"></i>
            </div>
            <div>
                <h3 style="font-family: 'Outfit'; margin-bottom: 0.5rem;">Explorar Vacantes</h3>
                <p style="color: var(--text-secondary); font-size: 0.95rem;">Busca y filtra entre miles de oportunidades
                    disponibles.</p>
            </div>
            <a href="{% url 'jobs:lista_ofertas' %}" class="btn btn-primary w-100">Ver Ofertas</a>
        </div>

        <!-- Postulaciones Card -->
        <div class="card" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div
                style="width: 50px; height: 50px; background: rgba(16, 185, 129, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-paper-plane" style="color: var(--accent-glow); font-size: 1.5rem;"></i>
            </div>
            <div>
                <h3 style="font-family: 'Outfit'; margin-bottom: 0.5rem;">Mis Postulaciones</h3>
                <p style="color: var(--text-secondary); font-size: 0.95rem;">Sigue el estado de tus aplicaciones activas
                    en tiempo real.</p>
            </div>
            <div
                style="background: rgba(255, 255, 255, 0.03); padding: 1rem; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; border: 1px solid var(--border-color);">
                <span style="color: var(--text-secondary); font-size: 0.9rem;">Total aplicaciones</span>
                <span style="font-weight: 800; font-size: 1.5rem; color: var(--primary-glow);">{{
                    user.perfil_candidato.postulaciones.count|default:0 }}</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}